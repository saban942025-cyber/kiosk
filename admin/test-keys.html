<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>Sika Key Auto-Discovery ğŸ”</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>body { font-family: sans-serif; background: #111827; color: white; padding: 20px; }</style>
</head>
<body class="max-w-4xl mx-auto">
    
    <h1 class="text-3xl font-bold mb-6 text-[#E3000F] flex gap-2">
        <i data-lucide="radar"></i> ×’×™×œ×•×™ ××•×“×œ×™× ××•×˜×•××˜×™
    </h1>

    <div class="bg-gray-800 p-6 rounded-xl border border-gray-700">
        <div class="flex justify-between items-center mb-4">
            <h2 class="text-xl font-bold">×¡×˜×˜×•×¡ ××¤×ª×—×•×ª</h2>
            <button onclick="startDiscovery()" class="bg-blue-600 px-6 py-2 rounded font-bold hover:bg-blue-500">×”×ª×—×œ ×¡×¨×™×§×”</button>
        </div>
        <div id="results" class="space-y-3">
            <div class="text-gray-400 text-sm">×œ×—×¥ ×¢×œ "×”×ª×—×œ ×¡×¨×™×§×”" ×›×“×™ ×œ×‘×“×•×§ ××™×–×” ××•×“×œ ××ª××™× ×œ×›×œ ××¤×ª×—...</div>
        </div>
    </div>

    <script>
        lucide.createIcons();

        const apiKeys = [
            "AIzaSyBL76DNiLPe5fgvNpryrr6_7YNnrFkdMug",
            "AIzaSyD2PehLHX2olQQavvHo2vjclOq7iSdiagI",
            "AIzaSyAdfGVrmr90Mp9ZhNMItD81iaE8OipKwz0",
            "AIzaSyDn2bU0mnmNpj26UeBZYAirLnXf-FtPgCg",
            "AIzaSyD9plWwyTESFm24c_OTunf4mFAsAmfrgj0",
            "AIzaSyA10opXSDanliHZtGTXtDfOiC_8VGGTwc0"
        ];

        // ×”××•×“×œ×™× ×©× ×‘×“×•×§
        const possibleModels = [
            "gemini-1.5-flash",
            "gemini-1.5-pro",
            "gemini-1.0-pro",
            "gemini-2.0-flash-exp"
        ];

        async function startDiscovery() {
            const container = document.getElementById('results');
            container.innerHTML = '';

            for (const key of apiKeys) {
                // ×™×¦×™×¨×ª ×©×•×¨×” ×œ××¤×ª×—
                const row = document.createElement('div');
                row.className = "bg-gray-900 p-4 rounded border border-gray-700";
                row.innerHTML = `
                    <div class="font-mono text-yellow-500 text-xs mb-2">${key}</div>
                    <div class="flex flex-wrap gap-2" id="models-${key.substring(0,5)}">
                        <span class="text-gray-500 text-xs animate-pulse">×‘×•×“×§ ××•×“×œ×™×...</span>
                    </div>
                `;
                container.appendChild(row);

                // ×‘×“×™×§×ª ×”××•×“×œ×™× ×œ××¤×ª×— ×–×”
                const badgesContainer = row.querySelector(`#models-${key.substring(0,5)}`);
                badgesContainer.innerHTML = ''; // × ×™×§×•×™ ×”"×‘×•×“×§..."

                let foundAny = false;
                for (const model of possibleModels) {
                    const working = await checkModel(key, model);
                    const color = working ? "bg-green-900 text-green-300 border-green-700" : "bg-red-900/30 text-red-500 border-red-900/30 opacity-50";
                    const icon = working ? "check" : "x";
                    
                    badgesContainer.innerHTML += `
                        <span class="px-2 py-1 rounded text-xs border ${color} flex items-center gap-1">
                            ${model}
                        </span>
                    `;
                    if(working) foundAny = true;
                }

                if(!foundAny) {
                    badgesContainer.innerHTML += `<span class="text-red-500 text-xs font-bold ml-2">âŒ ×”××¤×ª×— ×—×¡×•×/×œ× ×ª×§×™×Ÿ</span>`;
                }
            }
        }

        async function checkModel(key, model) {
            const url = `https://generativelanguage.googleapis.com/v1beta/models/${model}:generateContent?key=${key}`;
            try {
                const res = await fetch(url, {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({ contents: [{ parts: [{ text: "Hi" }] }] })
                });
                return res.ok;
            } catch (e) { return false; }
        }
    </script>
</body>
</html>
