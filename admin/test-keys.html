<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>Sika Key Tester </title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>body { font-family: sans-serif; background: #111827; color: white; padding: 20px; }</style>
</head>
<body class="max-w-3xl mx-auto">
    
    <h1 class="text-3xl font-bold mb-6 text-[#E3000F] flex gap-2">
        <i data-lucide="shield-check"></i> 拽转 驻转转 Sika-Ai
    </h1>

    <div class="space-y-6">
        <div class="bg-gray-800 p-6 rounded-xl border border-gray-700">
            <h2 class="text-xl font-bold mb-4 flex justify-between">
                <span>驻转转 AI (Gemini)</span>
                <button onclick="testGeminiKeys()" class="bg-blue-600 px-4 py-1 rounded text-sm hover:bg-blue-500">转 拽</button>
            </h2>
            <div id="geminiResults" class="space-y-2 text-sm"></div>
        </div>

        <div class="bg-gray-800 p-6 rounded-xl border border-gray-700">
            <h2 class="text-xl font-bold mb-4 flex justify-between">
                <span>注 驻砖 (CX IDs)</span>
                <button onclick="testSearchCX()" class="bg-purple-600 px-4 py-1 rounded text-sm hover:bg-purple-500">转 拽</button>
            </h2>
            <div id="cxResults" class="space-y-2 text-sm"></div>
            <div class="text-xs text-gray-500 mt-2">* 专砖 驻转 驻转 AI  转拽  拽.</div>
        </div>
    </div>

    <script>
        lucide.createIcons();

        // 专 砖转
        const apiKeys = [
            "AIzaSyBL76DNiLPe5fgvNpryrr6_7YNnrFkdMug",
            "AIzaSyD2PehLHX2olQQavvHo2vjclOq7iSdiagI",
            "AIzaSyAdfGVrmr90Mp9ZhNMItD81iaE8OipKwz0",
            "AIzaSyDn2bU0mnmNpj26UeBZYAirLnXf-FtPgCg",
            "AIzaSyA10opXSDanliHZtGTXtDfOiC_8VGGTwc0"
        ];

        const cxIds = [
            "3331a7d5c75e14f26",
            "635bc3eeee0194b16",
            "1340c66f5e73a4076"
        ];

        let validApiKey = null; // 砖专 驻转 转拽 拽转 驻砖

        async function testGeminiKeys() {
            const container = document.getElementById('geminiResults');
            container.innerHTML = '<div class="text-gray-400">拽...</div>';
            
            let html = '';
            
            for (const key of apiKeys) {
                const start = Date.now();
                const status = await checkKey(key);
                const time = Date.now() - start;
                
                let color = status.ok ? 'text-green-400' : 'text-red-400';
                let icon = status.ok ? 'check-circle' : 'x-circle';
                let msg = status.ok ? `驻注 (${status.model}) - ${time}ms` : `砖: ${status.error}`;
                
                if(status.ok && !validApiKey) validApiKey = key;

                html += `
                    <div class="flex items-center justify-between bg-gray-900 p-3 rounded border border-gray-700">
                        <div class="font-mono text-xs text-gray-300 w-1/3 truncate">${key}</div>
                        <div class="${color} flex items-center gap-2 w-2/3 justify-end">
                            <span>${msg}</span> <i data-lucide="${icon}" size="16"></i>
                        </div>
                    </div>`;
            }
            container.innerHTML = html;
            lucide.createIcons();
        }

        async function checkKey(key) {
            // 住 拽 转  拽
            const models = ["gemini-2.0-flash-exp", "gemini-1.5-flash"];
            
            for (const model of models) {
                const url = `https://generativelanguage.googleapis.com/v1beta/models/${model}:generateContent?key=${key}`;
                try {
                    const res = await fetch(url, {
                        method: 'POST',
                        headers: {'Content-Type': 'application/json'},
                        body: JSON.stringify({ contents: [{ parts: [{ text: "Hi" }] }] })
                    });
                    if (res.ok) return { ok: true, model: model };
                } catch (e) {}
            }
            return { ok: false, error: " 转拽 / 住 " };
        }

        async function testSearchCX() {
            if(!validApiKey) return alert("拽  转专抓 拽转 驻转转 AI  爪 驻转 转拽 爪注 驻砖.");
            
            const container = document.getElementById('cxResults');
            container.innerHTML = '<div class="text-gray-400">拽...</div>';
            
            let html = '';
            for (const cx of cxIds) {
                const url = `https://www.googleapis.com/customsearch/v1?q=Sika&cx=${cx}&key=${validApiKey}&num=1`;
                let status = { ok: false };
                try {
                    const res = await fetch(url);
                    if(res.ok) status = { ok: true };
                } catch(e) {}

                let color = status.ok ? 'text-green-400' : 'text-red-400';
                let icon = status.ok ? 'check-circle' : 'x-circle';
                
                html += `
                    <div class="flex items-center justify-between bg-gray-900 p-3 rounded border border-gray-700">
                        <div class="font-mono text-xs text-gray-300">${cx}</div>
                        <div class="${color} flex items-center gap-2">
                            <span>${status.ok ? '专' : '砖'}</span> <i data-lucide="${icon}" size="16"></i>
                        </div>
                    </div>`;
            }
            container.innerHTML = html;
            lucide.createIcons();
        }
    </script>
</body>
</html>
