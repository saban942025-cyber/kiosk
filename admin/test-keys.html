<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>Sika Key Diagnostics ┖</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>body { font-family: sans-serif; background: #0f172a; color: white; padding: 20px; }</style>
</head>
<body class="max-w-4xl mx-auto">
    
    <header class="mb-8 border-b border-gray-700 pb-4 flex justify-between items-center">
        <div>
            <h1 class="text-3xl font-black text-blue-500 flex items-center gap-2">
                <i data-lucide="activity"></i> Sika Diagnostics
            </h1>
            <p class="text-gray-400">拽转 注住 转拽转 驻转转</p>
        </div>
        <button onclick="runDiagnostics()" class="bg-blue-600 hover:bg-blue-500 text-white px-6 py-3 rounded-lg font-bold shadow-lg flex gap-2">
            <i data-lucide="play"></i> 专抓 拽
        </button>
    </header>

    <div class="space-y-4" id="resultsArea">
        <div class="text-center text-gray-500 py-10 bg-gray-900 rounded-xl border border-gray-800">
            转 驻拽...
        </div>
    </div>

    <script>
        lucide.createIcons();

        // 专砖转 驻转转 砖
        const apiKeys = [
    "AIzaSyCQibBA_sC1St4u8YKit-zCzvPKl6_YE4I",
    "AIzaSyD2PehLHX2olQQavvHo2vjclOq7iSdiagI",
    "AIzaSyAdfGVrmr90Mp9ZhNMItD81iaE8OipKwz0",
    "AIzaSyDn2bU0mnmNpj26UeBZYAirLnXf-FtPgCg",
    "AIzaSyD9plWwyTESFm24c_OTunf4mFAsAmfrgj0",
    "AIzaSyApfM5AjEPanHzafJi6GqbJlIQ_w-0X07U",
    "AIzaSyA10opXSDanliHZtGTXtDfOiC_8VGGTwc0"
];

        //  爪 转专 专注
        const TARGET_MODEL = "gemini-1.5-flash-latest";

        async function runDiagnostics() {
            const container = document.getElementById('resultsArea');
            container.innerHTML = '';

            for (const key of apiKeys) {
                // 爪专转 砖专 
                const row = document.createElement('div');
                row.className = "bg-gray-800 p-4 rounded-xl border border-gray-700 flex justify-between items-center";
                row.innerHTML = `
                    <div class="flex flex-col">
                        <span class="font-mono text-xs text-yellow-500 font-bold">${key}</span>
                        <span class="text-xs text-gray-400">拽  ${TARGET_MODEL}...</span>
                    </div>
                    <div id="status-${key.substring(0,5)}" class="flex items-center gap-2">
                        <i data-lucide="loader-2" class="animate-spin text-blue-400"></i>
                    </div>
                `;
                container.appendChild(row);
                lucide.createIcons();

                // 拽 驻注
                const result = await checkConnection(key);
                const statusEl = document.getElementById(`status-${key.substring(0,5)}`);
                
                if (result.success) {
                    statusEl.innerHTML = `
                        <span class="bg-green-900 text-green-300 px-3 py-1 rounded text-xs font-bold border border-green-700 flex items-center gap-1">
                            <i data-lucide="check"></i> 转拽 (${result.time}ms)
                        </span>`;
                } else {
                    let errorMsg = "砖  注";
                    if(result.code === 429) errorMsg = "注住 (429)";
                    if(result.code === 404) errorMsg = "  爪 (404)";
                    if(result.code === 400) errorMsg = "驻转  转拽 (400)";

                    statusEl.innerHTML = `
                        <span class="bg-red-900 text-red-300 px-3 py-1 rounded text-xs font-bold border border-red-700 flex items-center gap-1">
                            <i data-lucide="x-circle"></i> ${errorMsg}
                        </span>`;
                }
                lucide.createIcons();
            }
        }

        async function checkConnection(key) {
            const url = `https://generativelanguage.googleapis.com/v1beta/models/${TARGET_MODEL}:generateContent?key=${key}`;
            const start = Date.now();
            try {
                const res = await fetch(url, {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({ contents: [{ parts: [{ text: "Hello" }] }] })
                });
                return { success: res.ok, code: res.status, time: Date.now() - start };
            } catch (e) {
                return { success: false, code: 0 };
            }
        }
    </script>
</body>
</html>
