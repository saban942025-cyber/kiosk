<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>Golden Key Test ğŸ”‘</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
</head>
<body class="bg-gray-900 text-white flex items-center justify-center h-screen">
    
    <div class="bg-gray-800 p-8 rounded-2xl shadow-2xl max-w-md w-full text-center border border-gray-700">
        <h1 class="text-2xl font-black text-yellow-500 mb-2">×‘×“×™×§×ª ××¤×ª×— ×”×–×”×‘</h1>
        <p class="font-mono text-xs text-gray-400 mb-6 bg-black p-2 rounded">AIzaSyApfM5AjEPanHzafJi6GqbJlIQ_w-0X07U</p>

        <div id="status" class="mb-6">
            <button onclick="testKey()" class="bg-blue-600 hover:bg-blue-500 text-white px-8 py-3 rounded-xl font-bold transition flex items-center gap-2 mx-auto">
                <i data-lucide="zap"></i> ×‘×“×•×§ ×™×›×•×œ×•×ª AI
            </button>
        </div>

        <div id="log" class="text-left text-xs font-mono bg-black p-4 rounded h-32 overflow-auto text-green-400 hidden"></div>
    </div>

    <script>
        lucide.createIcons();
        const KEY = "AIzaSyApfM5AjEPanHzafJi6GqbJlIQ_w-0X07U";

        async function testKey() {
            const btn = document.querySelector('button');
            const log = document.getElementById('log');
            const status = document.getElementById('status');
            
            btn.disabled = true;
            btn.innerHTML = `<i data-lucide="loader-2" class="animate-spin"></i> ××ª×—×‘×¨ ×œ××•×—...`;
            log.classList.remove('hidden');
            log.innerHTML = "> ××ª×—×™×œ ×‘×“×™×§×”...\n";

            // × ×‘×“×•×§ ××•×œ ×”××•×“×œ ×”×™×¦×™×‘ ×‘×™×•×ª×¨ (v1/gemini-pro)
            const url = `https://generativelanguage.googleapis.com/v1/models/gemini-pro:generateContent?key=${KEY}`;
            
            try {
                const response = await fetch(url, {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify({ 
                        contents: [{ parts: [{ text: "×›×ª×•×‘ ××™×œ×” ××—×ª: ×”×¦×œ×—×”" }] }] 
                    })
                });

                if (response.ok) {
                    const data = await response.json();
                    const text = data.candidates[0].content.parts[0].text;
                    log.innerHTML += `> ×ª×©×•×‘×ª ×’×•×’×œ: "${text}"\n`;
                    log.innerHTML += `> âœ… ×”××¤×ª×— ×ª×§×™×Ÿ ×œ×—×œ×•×˜×™×Ÿ ×œ-AI!`;
                    status.innerHTML = `<div class="text-green-500 font-bold text-xl">âœ… ×¢×•×‘×“ ×¤×™×§×¡!</div><p class="text-gray-400 text-sm mt-2">×”××¤×ª×— ×”×–×” ×™×›×•×œ ×’× ×œ×—×¤×© ×•×’× ×œ×›×ª×•×‘.</p>`;
                } else {
                    log.innerHTML += `> âŒ ×©×’×™××”: ${response.status}\n`;
                    if(response.status === 403) log.innerHTML += `> ×”××¤×ª×— ×—×¡×•× ×œ-AI (Generative Language API ×œ× ××•×¤×¢×œ).`;
                    if(response.status === 404) log.innerHTML += `> ×”××•×“×œ ×œ× × ××¦× (× ×¡×” endpoint ××—×¨).`;
                    status.innerHTML = `<div class="text-red-500 font-bold text-xl">âŒ × ×›×©×œ ×‘-AI</div>`;
                }
            } catch (e) {
                log.innerHTML += `> âŒ ×©×’×™××”: ${e.message}`;
                status.innerHTML = `<div class="text-red-500 font-bold text-xl">âŒ ×©×’×™××ª ×¨×©×ª</div>`;
            }
            lucide.createIcons();
        }
    </script>
</body>
</html>
